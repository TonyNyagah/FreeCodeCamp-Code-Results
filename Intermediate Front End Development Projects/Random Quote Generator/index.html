<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Random Quote Generator</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!--jquery -->
    <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body>
    <!-- jquery script -->
    <script>
    $(document).ready(function() {

        $("#getMessage").on("click", function() {
            /*
            // with getJSON
            $.getJSON("https://api.github.com/users/TonyNyagah", function(data) {
                $(".message").html(JSON.stringify(data));
            });
            */
            /*
            // with $.ajax()
            $.ajax({
                url: "https://api.github.com/users/TonyNyagah",
                dataType: "json",
                success: function(data){
                    $(".message").html(JSON.stringify(data));
                }
            });
            */
            // now get a random quote from a site with HTTPS
            $.ajax({
                url: "https://andruxnet-random-famous-quotes.p.mashape.com/",
                headers: { 'X-Mashape-Key': 'hoTnRMrQUkmshFojXahmqJXa7cl8p1OY1uBjsnwNtkRylnK9sh' },
                method: 'POST',
                contentType: 'application/x-www-form-urlencoded',
                dataType: 'json',
                success: function(data) {
                    /* $(".message").html(JSON.stringify(data)); */
                    var html = "";  
                    html += "<blockquote>" + data.quote + "<footer><cite>" + data.author + "</cite></footer></blockquote>";
                    $(".message").html(html);

                    var encodedQuote = encodeURIComponent(data.quote);
                    var tweetUrl = "https://twitter.com/intent/tweet?text=" + encodedQuote;

                    $('a').attr('href', tweetUrl);
                    /*
                    console.log(data);
                    console.log(encodedQuote);
                    console.log(tweetUrl);
                    */
                }
            });
        });

    });
    </script>
    <!-- bootstrap styling -->
    <div class="container-fluid">
        <div class="row text-center">
            <h2>Random Quote</h2>
        </div>
        <div class="row text-center">
            <div class="col-xs-12 well message">
                The quote will go here.
            </div>
        </div>
        <div class="row text-center">
            <div class="col-xs-12">
                <button id="getMessage" class="btn btn-primary">
                    Get Quote
                </button>
                <a href="http://google.com" class="btn btn-primary" id="tweetQuote" target="_blank">Tweet Quote</a>
            </div>
        </div>
    </div>
</body>

</html>